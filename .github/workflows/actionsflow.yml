name: YouTube Canli Yayin Kontrol
on:
  schedule:
    - cron: "*/5 * * * *" # Her 5 dakikada bir kontrol eder
  workflow_dispatch: # Manuel baÅŸlatma butonu ekler

jobs:
  check_live:
    runs-on: ubuntu-latest
    steps:
      - name: YouTube CanlÄ± YayÄ±n KontrolÃ¼
        run: |
          # UCXXXXXXXXXXXX kÄ±smÄ±na kendi Kanal ID'ni yazmayÄ± unutma!
          CHANNEL_ID="UCXXXXXXXXXXXX" 
          RESPONSE=$(curl -s "https://www.youtube.com/channel/$CHANNEL_ID/live")
          
          if echo "$RESPONSE" | grep -q '{"text":" canlÄ±"}'; then
            echo "YayÄ±n aktif! Telegram bildirimi gÃ¶nderiliyor..."
            curl -s -X POST https://api.telegram.org/bot${{ secrets.TELEGRAM_TOKEN }}/sendMessage \
              -d chat_id=${{ secrets.TELEGRAM_CHAT_ID }} \
              -d text="ğŸ”´ YAYIN BAÅLADI! Instagram 30K kitlene bu linki gÃ¶nder: https://www.youtube.com/channel/$CHANNEL_ID/live"
          else
            echo "HenÃ¼z yayÄ±n yok."
          fi
